<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GSAP Advanced Text Animation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap");

      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-family: "Poppins", sans-serif;
        overflow: hidden;
        background: rgb(110, 0, 255);
      }
      body.body.ch-style {
        background-color: #ffffff;
      }
      .text-container {
        font-weight: bold;
        font-size: 60px;
        display: flex;
        transform: translateY(0%);
        color: #ffffff;
      }
      .body.ch-style .app .text-container {
        color: rgb(78, 0, 147);
      }
      .letter {
        display: inline-block;
        opacity: 0;
      }
      .text-container.move {
        position: absolute;
        top: 4px;
        left: 17px;
        font-size: 30px;
        transition: all 0.5s ease;
      }
      .app {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }
      .button-63 {
        align-items: center;
        background-image: linear-gradient(
          144deg,
          #af40ff,
          #5b42f3 50%,
          #00ddeb
        );
        border: 0;
        border-radius: 8px;
        box-shadow: rgba(151, 65, 252, 0.2) 0 15px 30px -5px;
        box-sizing: border-box;
        color: #ffffff;
        display: flex;

        justify-content: center;
        line-height: 1em;
        max-width: 100%;
        min-width: 140px;
        padding: 19px 24px;
        text-decoration: none;
        user-select: none;
        -webkit-user-select: none;
        touch-action: manipulation;
        white-space: nowrap;
        cursor: pointer;
      }

      .button-63:active,
      .button-63:hover {
        outline: 0;
      }

      @media (min-width: 768px) {
        .button-63 {
          font-size: 24px;
          min-width: 196px;
        }
      }
      @media (max-width: 578px) {
        .text-container {
          font-size: 40px;
        }
      }
    </style>
  </head>
  <body class="body">
    <div class="app">
      <h1 class="text-container" id="text"></h1>
      <div class="events-container" style="display: none">
        <div class="event-card">
          <p>TRENDING EVENTS</p>
          <h2>SPOTLIGHT X ONE DAY ONE MINUTE</h2>
          <p>
            Spotlight is a dunamic platfomr where aspiring filmmakers meet
            industry experts, gain insights, refine therir craft, and explore
            cinematic innovation
          </p>
        </div>
        <div class="register-btn">
          <button class="button-63">Register Now</button>
        </div>
      </div>
    </div>

    <script>
      const text = "KIRVVAS_2025";
      const container = document.getElementById("text");

      function animateText() {
        // Clear previous text
        container.innerHTML = "";

        // Split the text into spans
        text.split("").forEach((letter) => {
          let span = document.createElement("span");
          span.textContent = letter;
          span.classList.add("letter");
          container.appendChild(span);
        });

        // GSAP Animation
        gsap.fromTo(
          ".letter",
          { opacity: 0, y: 50, scale: 0.5, rotation: 30 },
          {
            opacity: 1,
            y: 0,
            scale: 1,
            rotation: 0,
            stagger: 0.1,
            ease: "back.out(1.7)",
            onComplete: celebrate, // Trigger celebrate when animation completes
          }
        );
      }

      function celebrate() {
        const end = Date.now() + 1500; // 1.5 seconds of celebration
        const colors = ["#bb0000", "#ffffff", "#7d00e3"];

        (function frame() {
          confetti({
            particleCount: 2,
            angle: 60,
            spread: 55,
            origin: { x: 0 },
            colors: colors,
          });

          confetti({
            particleCount: 2,
            angle: 120,
            spread: 55,
            origin: { x: 1 },
            colors: colors,
          });

          if (Date.now() < end) {
            requestAnimationFrame(frame);
          }
        })();

        document.querySelector(".text-container").classList.add("move");
        document.querySelector(".body").classList.add("ch-style");
        document.querySelector(".events-container").style.display = "block";
      }

      // Initial call
      animateText();

      // Repeat every 10 seconds
      // setInterval(animateText, 6000);
    </script>
  </body>
</html>
